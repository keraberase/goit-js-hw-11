{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["\nexport default function itemTemplate(images,getImage) {\n    getImage.innerHTML = '';\n      images.forEach(image => {\n        const card =\n            `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n    <img class=\"gallery-image\" src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n  </a>\n   <div class=\"image-details\">\n                    <p>Likes: ${image.likes}</p>\n                    <p>Views: ${image.views}</p>\n                    <p>Comments: ${image.comments}</p>\n                    <p>Downloads: ${image.downloads}</p>\n                </div>\n</li>`;\n        getImage.innerHTML += card;\n    })\n}\n    \n \n    \n\n\n export function displayImages(image) {\n         return `<ul class='gallery'><li class=\"gallery-item\">\n     <img class=\"gallery-image\" src=\"${image.previewURL}\" alt=\"#\"/></li></ul>`\n     };\n     function renderImage(data) {\n         const markup = data.map(displayImages).join('');\n\n         getImage.innerHTML = `<ul class='gallery'>${markup}</ul>`\n };\n","\n\n // HTTP request\nexport default function getPostsByUser(query) {\n    const BASE_URL = \"https://pixabay.com\";\n    const END_POINT = '/api/';\n    const API_KEY = '42305658-75508782eac06a666c1fb928b';\n\n    const params = {\n        key: API_KEY,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true',\n        q: query\n    \n    };\n\n\nconst url = `${BASE_URL}${END_POINT}?${new URLSearchParams(params)}`;\n  return fetch(url).then(res => res.json());\n    };\n","// iziToast import\nimport iziToast from \"izitoast\";\n// additional iziToast import\nimport \"izitoast/dist/css/iziToast.min.css\";\n//  SimpleLightbox import\nimport SimpleLightbox from \"simplelightbox\";\n// additional SimpleLightbox import\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n// import render function part1\nimport {displayImages} from './js/render-functions'\n//  import render function part2\nimport itemTemplate from './js/render-functions';\n\nimport getPostsByUser from './js/pixabay-api';\n\nconst searchForm = document.querySelector('.js-search-form');\nconst getImage = document.querySelector(\".gallery\");\nconst loader = document.querySelector('.loader');\n\nsearchForm.addEventListener('submit', e => {\n    e.preventDefault();\n    const query = e.target.elements.search.value.trim();\n\n//check the input line is not empty\n     if (!query) {\n\n        return iziToast.warning({\n            title: 'Warning',\n            message: 'Please enter a search query',\n            position: 'topCenter'\n        });\n    }\n\n // Show the loading element before starting the HTTP request\n    loader.style.display = 'block';\n    getPostsByUser(query)\n        .then(data => {\n\n // Hide the download item after the request is complete\n            loader.style.display = 'none';\n\n// Checking for an empty array from the backend\n            if (data.hits.length === 0) {\n // Show message about missing images\n                iziToast.error({\n                    title: 'Error',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    position: 'topCenter'\n                });\n            }\n            else {\n// Process the received image data\n                itemTemplate(data.hits, getImage);\n                const lightbox = new SimpleLightbox(\".gallery a\", {\n                    captionsData: \"alt\",\n                    captionDelay: 250,\n                    captionPosition: 'bottom'\n                });\n                lightbox.refresh();\n            \n            }\n        })\n        .catch(error => {\n// Hide the download item on error\n            loader.style.display = 'none';\n\n// Show error message\n            iziToast.error({\n                title: 'Error',\n                message: 'There was a problem with the fetch operation. Please try again later.',\n                position: 'topCenter'\n            });\n            e.target.reset();\n        });\n});\n"],"names":["itemTemplate","images","getImage","image","card","getPostsByUser","query","BASE_URL","END_POINT","params","url","res","searchForm","loader","e","iziToast","data","SimpleLightbox","error"],"mappings":"6vBACe,SAASA,EAAaC,EAAOC,EAAU,CAClDA,EAAS,UAAY,GACnBD,EAAO,QAAQE,GAAS,CACtB,MAAMC,EACF;AAAA,kCACsBD,EAAM,aAAa;AAAA,sCACfA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,gCAG5CA,EAAM,KAAK;AAAA,gCACXA,EAAM,KAAK;AAAA,mCACRA,EAAM,QAAQ;AAAA,oCACbA,EAAM,SAAS;AAAA;AAAA,OAG3CD,EAAS,WAAaE,CAC9B,CAAK,CACL,CCfe,SAASC,EAAeC,EAAO,CAC1C,MAAMC,EAAW,sBACXC,EAAY,QAGZC,EAAS,CACX,IAHY,qCAIZ,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,EAAGH,CAEX,EAGMI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAI,IAAI,gBAAgBC,CAAM,CAAC,GAChE,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAOA,EAAI,KAAI,CAAE,CAC1C,CCLA,MAAMC,EAAa,SAAS,cAAc,iBAAiB,EACrDV,EAAW,SAAS,cAAc,UAAU,EAC5CW,EAAS,SAAS,cAAc,SAAS,EAE/CD,EAAW,iBAAiB,SAAUE,GAAK,CACvCA,EAAE,eAAc,EAChB,MAAMR,EAAQQ,EAAE,OAAO,SAAS,OAAO,MAAM,OAG5C,GAAI,CAACR,EAEF,OAAOS,EAAS,QAAQ,CACpB,MAAO,UACP,QAAS,8BACT,SAAU,WACtB,CAAS,EAILF,EAAO,MAAM,QAAU,QACvBR,EAAeC,CAAK,EACf,KAAKU,GAAQ,CAGVH,EAAO,MAAM,QAAU,OAGnBG,EAAK,KAAK,SAAW,EAErBD,EAAS,MAAM,CACX,MAAO,QACP,QAAS,2EACT,SAAU,WAC9B,CAAiB,GAIDf,EAAagB,EAAK,KAAMd,CAAQ,EACf,IAAIe,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,IACd,gBAAiB,QACrC,CAAiB,EACQ,QAAO,EAGhC,CAAS,EACA,MAAMC,GAAS,CAEZL,EAAO,MAAM,QAAU,OAGvBE,EAAS,MAAM,CACX,MAAO,QACP,QAAS,wEACT,SAAU,WAC1B,CAAa,EACDD,EAAE,OAAO,OACrB,CAAS,CACT,CAAC"}